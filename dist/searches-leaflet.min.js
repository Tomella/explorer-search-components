/***
  * ExplorerSearches - Explorer searches components.
  * @version v0.0.1-SNAPSHOT
  * @link http://www.ga.gov.au/
  * @license Copyright 2015 Geoscience Australia (http://www.ga.gov.au/copyright.html)
  */
var Drawing;!function(t){!function(t){t[t.GeoJSONPoint=0]="GeoJSONPoint",t[t.GeoJSONUrl=1]="GeoJSONUrl"}(t.DataType||(t.DataType={}));var e=(t.DataType,function(){function t(t,e,a){this.map=t,this.data=e,this.options=a}return t.prototype.draw=function(){var t=this,e=1,a=function(){e-=.05,0>=e?t.map.removeLayer(t.fadeLayer):(t.fadeLayer.setStyle({opacity:e}),t.timeout=t.options.$timeout(a,1e3))};this.fadeLayer&&(this.options.$timeout.cancel(this.timeout),this.map.removeLayer(this.fadeLayer)),this.options.$http.get(this.data.url).then(function(t){this.fadeLayer=L.geoJson(t.data,{clickable:!1,style:function(t){return{color:"red",opacity:1}}}).addTo(this.map),this.timeout=this.options.$timeout(a,5e3)}.bind(this))},t.prototype.erase=function(){this.map&&this.fadeLayer&&(this.map.removeLayer(this.fadeLayer),this.fadeLayer=null)},t.prototype.destroy=function(){this.erase(),this.map=this.data=null},t.prototype.isDrawn=function(){return!this.fadeLayer},t}());t.GeoJsonUrlHandler=e;var a=function(){function t(t,e,a){this.entities=null,this.options={},a&&(this.options=a),this.viewer=t,this.container=e}return t.prototype.draw=function(){var t=this.container.data.geometry.coordinates;this.marker=L.marker([t[1],t[0]]).addTo(this.viewer).bindPopup(this.container.name+"<br/>Lat/lng: "+t[1]+"&deg;, "+t[0]+"&deg;")},t.prototype.isDrawn=function(){return this.marker},t.prototype.erase=function(){this.marker&&(this.viewer.removeLayer(this.marker),this.marker=null)},t.prototype.destroy=function(){this.erase()},t}();t.GeoJsonPointHandler=a}(Drawing||(Drawing={})),function(t,e){"use strict";t.module("exp.search.map.service",[]).factory("searchMapService",["$http","$timeout","mapService",function(t,e,a){function n(a,n){var r={$timeout:e,$http:t};return"GeoJSONUrl"==n.type?new Drawing.GeoJsonUrlHandler(a,n,r):"GeoJSONPoint"==n.type?new Drawing.GeoJsonPointHandler(a,n,r):void 0}var r=null;return a.getMap().then(function(t){r=t}),{getDrawer:function(t){return n(r,t)},goTo:function(t){var e=-1e3,n=1e3,r=1e3,i=-1e3;t.coordinates&&t.coordinates.forEach(function(t){t&&t.forEach(function(t){t[0]>e&&(e=t[0]),t[0]<n&&(n=t[0]),t[1]>i&&(i=t[1]),t[1]<r&&(r=t[1])})}),a.getMap().then(function(t){t.fitBounds([[r,n],[i,e]])})}}}])}(angular,L),angular.module("exp.search.templates",[]).run(["$templateCache",function(t){t.put("searches/geosearch/geosearch.html",'<div class="btn-group pull-left radSearch" style="width:27em;opacity:0.9">\r\n	<div class="input-group">\r\n		<input type="text" ng-autocomplete ng-model="values.from.description" options=\'{country:"au"}\'\r\n					size="32" title="Select a locality to pan the map to." class="form-control" aria-label="...">\r\n		<div class="input-group-btn">\r\n			<button ng-click="zoom(false)" exp-ga="[\'send\', \'event\', \'radwaste\', \'click\', \'zoom to location\']"\r\n				class="btn btn-default"\r\n				title="Pan and potentially zoom to location."><i class="fa fa-search"></i></button>\r\n		</div>\r\n	</div>\r\n</div>'),t.put("searches/basinsearch/basinsearch.html",'<div class="btn-group pull-left radSearch" style="position:relative;width:27em;opacity:0.9">\r\n	<div class="input-group" style="width:100%;">\r\n		<input type="text" size="32" class="form-control" style="border-top-right-radius:4px;border-bottom-right-radius:4px;" \r\n				ng-keyup="keyup($event)" ng-focus="changing()" ng-model="nameFilter" placeholder="Find a basin of interest">\r\n		<div class="input-group-btn"></div>\r\n	</div>\r\n	<div style="width:26em; position:absolute;left:15px">	\r\n		<div class="row" ng-repeat="region in basinData.basins | basinFilterList : nameFilter : 10 | orderBy : \'name\'" \r\n				style="background-color:white;">\r\n			<div class="col-md-12 rw-sub-list-trigger">\r\n				<button class="undecorated zoomButton" ng-click="zoomToLocation(region);">{{region.name}}</button>\r\n			</div>	\r\n		</div>\r\n	</div>\r\n</div>'),t.put("searches/lastsearch/lastsearch.html",'<div style="padding:3px;padding-left:10px;position:relative" ng-class-even="\'even\'" ng-class-odd="\'active\'">\r\n	<div class="pull-left">\r\n			<div style="font-size:120%;padding-bottom:7px">Result from: {{data.search.from}}</div>\r\n			<div ng-if="data.search.type == \'GeoJSONPoint\'">\r\n				{{data.search.name}} (Lat {{data.search.data.geometry.coordinates[0] | number : 5}}&#176; Lng  {{data.search.data.geometry.coordinates[1] | number : 5}}&#176;)\r\n			</div>\r\n			<div ng-if="data.search.type == \'GeoJSONUrl\'">\r\n				{{data.search.name}} \r\n			</div>\r\n			<div class="pull-right">\r\n				<button class="undecorated" ng-click="dismiss()">\r\n					<i class="fa fa-cross"></i>\r\n				</button>\r\n			</div>\r\n	</div>\r\n	<div style="padding-left:10px" class="pull-right">\r\n		<button class="undecorated" class="featureLink" title="Show on map" \r\n			ng-click="toggle()"><i class="fa fa-lg" ng-class="{\'fa-eye-slash\':(!data.search.displayed), \'fa-eye\':data.search.displayed}"></i></button>\r\n		<button class="undecorated" class="featureLink" title="Pan map to region" \r\n			ng-click="pan()"><i class="fa fa-flag fa-lg"></i></button>							\r\n		<button class="undecorated" class="featureLink" title="Clear search/New search" \r\n			ng-click="close()"><i class="fa fa-close fa-lg"></i></button>							\r\n	</div>\r\n</div>\r\n'),t.put("searches/lgasearch/lgasearch.html",'<div class="btn-group pull-left radSearch" style="position:relative;width:27em;opacity:0.9">\r\n	<div class="input-group" style="width:100%;">\r\n		<input type="text" size="32" class="form-control" style="border-top-right-radius:4px;border-bottom-right-radius:4px;" \r\n				ng-keyup="keyup($event)" ng-focus="changing()" ng-model="nameFilter" placeholder="Find a state or local government area">\r\n		<div class="input-group-btn"></div>\r\n	</div>\r\n	<div style="width:26em; position:absolute;left:15px">	\r\n		<div class="lgaLists">\r\n			<div class="row stateList includeMe" ng-repeat="state in lgaData.states | lgaFilterList : nameFilter | orderBy : \'name\'" \r\n					style="background-color:white;">\r\n				<div class="col-md-12 ">\r\n					<button class="undecorated zoomButton" ng-click="zoomToLocation(state);">{{state.name}}</button>\r\n				</div>\r\n			</div>	\r\n		</div>\r\n		<div class="row" ng-repeat="region in lgaData.lgas | lgaFilterList : nameFilter : 10 | orderBy : \'name\'" \r\n				style="background-color:white;">\r\n			<div class="col-md-12 rw-sub-list-trigger">\r\n				<button class="undecorated zoomButton" ng-click="zoomToLocation(region);">{{region.name}}</button>\r\n			</div>	\r\n		</div>\r\n	</div>\r\n</div>'),t.put("searches/searches/searches.html",'<div class="searchesContainer">\r\n	<div ng-hide="data.search">\r\n		<span class="searchesItems" ng-transclude></span>\r\n		<span class="dropdown clearfix">\r\n			<div class="btn-group" role="group">\r\n				<div class="btn-group" role="group">\r\n					<button class="btn btn-default dropdown-toggle" type="button" id="searchesDropdownMenu3" \r\n							tooltip="Change search type" tooltip-append-to-body="true"\r\n							data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\r\n		      			<i class="fa fa-align-justify"></i>\r\n   					</button>\r\n   					<ul class="dropdown-menu" aria-labelledby="searchesDropdownMenu3">\r\n	    	    		<li ng-repeat="search in state.searches"><button class="undecorated" ng-click="switch(search)" ng-class="{searchesStrong:search.active}">{{search.label}}</button></li>\r\n   					</ul>\r\n   				</div>\r\n   			</div>\r\n		</span>\r\n	</div>\r\n	<div class="searchesLastSearchContainer" exp-last-search ng-show="data.search"></div>\r\n</div>')}]);
//# sourceMappingURL=searches-leaflet.min.js.map
