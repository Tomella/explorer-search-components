/***
  * ExplorerSearches - Explorer searches components.
  * @version v0.0.1-SNAPSHOT
  * @link http://www.ga.gov.au/
  * @license Copyright 2015 Geoscience Australia (http://www.ga.gov.au/copyright.html)
  */
  
  var CesiumDrawing;!function(e){function i(e,i){var r=t[i.type];return r==t.GeoJSONPoint?new n(e,i,null):r==t.GeoJSONUrl?new o(e,i,null):null}e.drawingFactory=i,function(e){e[e.GeoJSONPoint=0]="GeoJSONPoint",e[e.GeoJSONUrl=1]="GeoJSONUrl"}(e.DataType||(e.DataType={}));var t=e.DataType,o=function(){function e(e,i,t){this.scene=e.scene,this.data=i,this.options=t}return e.prototype.draw=function(){var e=this;this.primitiveCollection=new Cesium.PrimitiveCollection,Cesium.GeoJsonDataSource.load(this.data.url).then(function(i){for(var t=0;t<i.entities.values.length;t++){var o,n=i.entities.values[t];if(void 0!==n.polygon&&(o=new Cesium.PolygonGeometry({polygonHierarchy:n.polygon.hierarchy._value})),void 0!==n.polyline&&(o=new Cesium.PolygonGeometry({polygonHierarchy:{positions:n.polyline.positions._value}})),o){var r=new Cesium.GeometryInstance({geometry:o,id:"instance",attributes:{color:new Cesium.ColorGeometryInstanceAttribute(0,1,1,.3)}}),s=new Cesium.GroundPrimitive({geometryInstance:r,appearance:new Cesium.PerInstanceColorAppearance({translucent:!1,closed:!0})});e.primitiveCollection.add(s)}}e.scene.primitives.add(e.primitiveCollection)}).otherwise(function(e){window.alert(e)})},e.prototype.erase=function(){this.scene&&this.primitiveCollection&&(this.scene.primitives.remove(this.primitiveCollection),this.primitiveCollection=null)},e.prototype.destroy=function(){this.erase(),this.scene=this.data=null},e.prototype.isDrawn=function(){return!this.primitiveCollection},e}();e.GeoJsonDraper=o;var n=function(){function e(e,i,t){this.entities=null,this.options={},t&&(this.options=t),this.viewer=e,this.container=i}return e.prototype.draw=function(){var e=this.container.data.geometry.coordinates;this.erase(),this.entities=this.viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(e[1],e[0]),point:{pixelSize:4,color:Cesium.Color.YELLOW,outlineColor:Cesium.Color.BLACK,outlineWidth:2},label:{text:this.container.data.properties.name,font:"16px Helvetica",fillColor:Cesium.Color.BLACK,outlineColor:Cesium.Color.WHITE,outlineWidth:2,horizontalOrigin:Cesium.HorizontalOrigin.LEFT,pixelOffset:new Cesium.Cartesian2(10,0)}})},e.prototype.isDrawn=function(){return null!=this.entities},e.prototype.erase=function(){this.entities&&(this.viewer.entities.remove(this.entities),this.entities=null)},e.prototype.destroy=function(){this.erase()},e}();e.MapLabel=n}(CesiumDrawing||(CesiumDrawing={})),function(e){"use strict";e.module("exp.search.map.service",[]).factory("searchMapService",["viewerService",function(e){var i=null;return e.getViewer(function(e){i=e}),{getDrawer:function(e){return CesiumDrawing.drawingFactory(i,e)},goTo:function(i){var t=-1e3,o=1e3,n=1e3,r=1e3;i.coordinates&&i.coordinates.forEach(function(e){e&&e.forEach(function(e){e[0]>t&&(t=e[0]),e[0]<o&&(o=e[0]),e[1]>r&&(r=e[1]),e[1]<n&&(n=e[1])})}),e.goTo({maxBounds:[[n,o],[r,t]],animate:!0})}}}])}(angular);
//# sourceMappingURL=searches-cesium.min.js.map
