/***
  * ExplorerSearches - Explorer searches components.
  * @version v0.0.1-SNAPSHOT
  * @link http://www.ga.gov.au/
  * @license Copyright 2015 Geoscience Australia (http://www.ga.gov.au/copyright.html)
  */
var CesiumDrawing;!function(t){function e(t,e){var a=n[e.type];return a==n.GeoJSONPoint?new r(t,e,null):a==n.GeoJSONUrl?new i(t,e,null):null}t.drawingFactory=e,function(t){t[t.GeoJSONPoint=0]="GeoJSONPoint",t[t.GeoJSONUrl=1]="GeoJSONUrl"}(t.DataType||(t.DataType={}));var n=t.DataType,i=function(){function t(t,e,n){this.scene=t.scene,this.data=e,this.options=n}return t.prototype.draw=function(){var t=this;this.primitiveCollection=new Cesium.PrimitiveCollection,Cesium.GeoJsonDataSource.load(this.data.url).then(function(e){for(var n=0;n<e.entities.values.length;n++){var i,r=e.entities.values[n];if(void 0!==r.polygon&&(i=new Cesium.PolygonGeometry({polygonHierarchy:r.polygon.hierarchy._value})),void 0!==r.polyline&&(i=new Cesium.PolygonGeometry({polygonHierarchy:{positions:r.polyline.positions._value}})),i){var a=new Cesium.GeometryInstance({geometry:i,id:"instance",attributes:{color:new Cesium.ColorGeometryInstanceAttribute(0,1,1,.3)}}),o=new Cesium.GroundPrimitive({geometryInstance:a,appearance:new Cesium.PerInstanceColorAppearance({translucent:!1,closed:!0})});t.primitiveCollection.add(o)}}t.scene.primitives.add(t.primitiveCollection)}).otherwise(function(t){window.alert(t)})},t.prototype.erase=function(){this.scene&&this.primitiveCollection&&(this.scene.primitives.remove(this.primitiveCollection),this.primitiveCollection=null)},t.prototype.destroy=function(){this.erase(),this.scene=this.data=null},t.prototype.isDrawn=function(){return!this.primitiveCollection},t}();t.GeoJsonDraper=i;var r=function(){function t(t,e,n){this.entities=null,this.options={},n&&(this.options=n),this.viewer=t,this.container=e}return t.prototype.draw=function(){var t=this.container.data.geometry.coordinates;this.erase(),this.entities=this.viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(t[1],t[0]),point:{pixelSize:4,color:Cesium.Color.YELLOW,outlineColor:Cesium.Color.BLACK,outlineWidth:2},label:{text:this.container.data.properties.name,font:"16px Helvetica",fillColor:Cesium.Color.BLACK,outlineColor:Cesium.Color.WHITE,outlineWidth:2,horizontalOrigin:Cesium.HorizontalOrigin.LEFT,pixelOffset:new Cesium.Cartesian2(10,0)}})},t.prototype.isDrawn=function(){return null!=this.entities},t.prototype.erase=function(){this.entities&&(this.viewer.entities.remove(this.entities),this.entities=null)},t.prototype.destroy=function(){this.erase()},t}();t.MapLabel=r}(CesiumDrawing||(CesiumDrawing={})),function(t){"use strict";t.module("exp.search.map.service",[]).factory("searchMapService",["viewerService",function(t){var e=null;return t.getViewer().then(function(t){e=t}),{getDrawer:function(t){return CesiumDrawing.drawingFactory(e,t)},goTo:function(e){var n=-1e3,i=1e3,r=1e3,a=-1e3;e.coordinates&&e.coordinates.forEach(function(t){t&&t.forEach(function(t){t[0]>n&&(n=t[0]),t[0]<i&&(i=t[0]),t[1]>a&&(a=t[1]),t[1]<r&&(r=t[1])})}),t.goTo({maxBounds:[[r,i],[a,n]],animate:!0})}}}])}(angular),angular.module("exp.search.templates",[]).run(["$templateCache",function(t){t.put("searches/basinsearch/basinsearch.html",'<div class="btn-group pull-left radSearch" style="position:relative;width:27em;opacity:0.9">\r\n\t<div class="input-group" style="width:100%;">\r\n\t\t<input type="text" size="32" class="form-control" style="border-top-right-radius:4px;border-bottom-right-radius:4px;" \r\n\t\t\t\tng-keyup="keyup($event)" ng-focus="changing()" ng-model="nameFilter" placeholder="Find a basin of interest">\r\n\t\t<div class="input-group-btn"></div>\r\n\t</div>\r\n\t<div style="width:26em; position:absolute;left:15px">\t\r\n\t\t<div class="row" ng-repeat="region in basinData.basins | basinFilterList : nameFilter : 10 | orderBy : \'name\'" \r\n\t\t\t\tstyle="background-color:white;">\r\n\t\t\t<div class="col-md-12 rw-sub-list-trigger">\r\n\t\t\t\t<button class="undecorated zoomButton" ng-click="zoomToLocation(region);">{{region.name}}</button>\r\n\t\t\t</div>\t\r\n\t\t</div>\r\n\t</div>\r\n</div>'),t.put("searches/geosearch/geosearch.html",'<div class="btn-group pull-left radSearch" style="width:27em;opacity:0.9">\r\n\t<div class="input-group">\r\n\t\t<input type="text" ng-autocomplete ng-model="values.from.description" options=\'{country:"au"}\'\r\n\t\t\t\t\tsize="32" title="Select a locality to pan the map to." class="form-control" aria-label="...">\r\n\t\t<div class="input-group-btn">\r\n\t\t\t<button ng-click="zoom(false)" exp-ga="[\'send\', \'event\', \'radwaste\', \'click\', \'zoom to location\']"\r\n\t\t\t\tclass="btn btn-default"\r\n\t\t\t\ttitle="Pan and potentially zoom to location."><i class="fa fa-search"></i></button>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),t.put("searches/lastsearch/lastsearch.html",'<div style="padding:3px;padding-left:10px;position:relative" ng-class-even="\'even\'" ng-class-odd="\'active\'">\r\n\t<div class="pull-left">\r\n\t\t\t<div style="font-size:120%;padding-bottom:7px">Result from: {{data.search.from}}</div>\r\n\t\t\t<div ng-if="data.search.type == \'GeoJSONPoint\'">\r\n\t\t\t\t{{data.search.name}} (Lat {{data.search.data.geometry.coordinates[0] | number : 5}}&#176; Lng  {{data.search.data.geometry.coordinates[1] | number : 5}}&#176;)\r\n\t\t\t</div>\r\n\t\t\t<div ng-if="data.search.type == \'GeoJSONUrl\'">\r\n\t\t\t\t{{data.search.name}} \r\n\t\t\t</div>\r\n\t\t\t<div class="pull-right">\r\n\t\t\t\t<button class="undecorated" ng-click="dismiss()">\r\n\t\t\t\t\t<i class="fa fa-cross"></i>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t</div>\r\n\t<div style="padding-left:10px" class="pull-right">\r\n\t\t<button class="undecorated" class="featureLink" title="Show on map" \r\n\t\t\tng-click="toggle()"><i class="fa fa-lg" ng-class="{\'fa-eye-slash\':(!data.search.displayed), \'fa-eye\':data.search.displayed}"></i></button>\r\n\t\t<button class="undecorated" class="featureLink" title="Pan map to region" \r\n\t\t\tng-click="pan()"><i class="fa fa-flag fa-lg"></i></button>\t\t\t\t\t\t\t\r\n\t\t<button class="undecorated" class="featureLink" title="Clear search/New search" \r\n\t\t\tng-click="close()"><i class="fa fa-close fa-lg"></i></button>\t\t\t\t\t\t\t\r\n\t</div>\r\n</div>\r\n'),t.put("searches/lgasearch/lgasearch.html",'<div class="btn-group pull-left radSearch" style="position:relative;width:27em;opacity:0.9">\r\n\t<div class="input-group" style="width:100%;">\r\n\t\t<input type="text" size="32" class="form-control" style="border-top-right-radius:4px;border-bottom-right-radius:4px;" \r\n\t\t\t\tng-keyup="keyup($event)" ng-focus="changing()" ng-model="nameFilter" placeholder="Find a state or local government area">\r\n\t\t<div class="input-group-btn"></div>\r\n\t</div>\r\n\t<div style="width:26em; position:absolute;left:15px">\t\r\n\t\t<div class="lgaLists">\r\n\t\t\t<div class="row stateList includeMe" ng-repeat="state in lgaData.states | lgaFilterList : nameFilter | orderBy : \'name\'" \r\n\t\t\t\t\tstyle="background-color:white;">\r\n\t\t\t\t<div class="col-md-12 ">\r\n\t\t\t\t\t<button class="undecorated zoomButton" ng-click="zoomToLocation(state);">{{state.name}}</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\t\r\n\t\t</div>\r\n\t\t<div class="row" ng-repeat="region in lgaData.lgas | lgaFilterList : nameFilter : 10 | orderBy : \'name\'" \r\n\t\t\t\tstyle="background-color:white;">\r\n\t\t\t<div class="col-md-12 rw-sub-list-trigger">\r\n\t\t\t\t<button class="undecorated zoomButton" ng-click="zoomToLocation(region);">{{region.name}}</button>\r\n\t\t\t</div>\t\r\n\t\t</div>\r\n\t</div>\r\n</div>'),t.put("searches/searches/searches.html",'<div class="searchesContainer">\r\n\t<div ng-hide="data.search">\r\n\t\t<span class="searchesItems" ng-transclude></span>\r\n\t\t<span class="dropdown clearfix">\r\n\t\t\t<div class="btn-group" role="group">\r\n\t\t\t\t<div class="btn-group" role="group">\r\n\t\t\t\t\t<button class="btn btn-default dropdown-toggle" type="button" id="searchesDropdownMenu3" \r\n\t\t\t\t\t\t\ttooltip="Change search type" tooltip-append-to-body="true"\r\n\t\t\t\t\t\t\tdata-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\r\n\t\t      \t\t\t<i class="fa fa-align-justify"></i>\r\n   \t\t\t\t\t</button>\r\n   \t\t\t\t\t<ul class="dropdown-menu" aria-labelledby="searchesDropdownMenu3">\r\n\t    \t    \t\t<li ng-repeat="search in state.searches"><button class="undecorated" ng-click="switch(search)" ng-class="{searchesStrong:search.active}">{{search.label}}</button></li>\r\n   \t\t\t\t\t</ul>\r\n   \t\t\t\t</div>\r\n   \t\t\t</div>\r\n\t\t</span>\r\n\t</div>\r\n\t<div class="searchesLastSearchContainer" exp-last-search ng-show="data.search"></div>\r\n</div>')}]);
//# sourceMappingURL=searches-cesium.min.js.map
